{{define "title"}}Home{{end}}

{{define "main"}}
    <div class="container">
        {{if and (not .IsSpotifyAuthenticated) (not .IsYoutubeAuthenticated)}}
            <div class="login-options">
                <p>choose a platform to use:</p>
                <div class="login-buttons">
                    <a href="/auth/spotify/login" class="login-button spotify-button"></a>
                    <a href="/auth/youtube/login" class="login-button youtube-button"></a>
                </div>
            </div>
        {{else}}
            {{if .IsSpotifyAuthenticated}}
                <div id="spotifySection" class="platform-section">
                    <img src="/static/img/spotify.svg" alt="Spotify Logo" class="platform-logo">
                    <form action="/replace/spotify" method="POST">
                        {{with .SpotifyFlash}}
                        <p class="flash-message">{{.}}</p>
                        {{end}}
                        {{with .SpotifyForm.FieldError}}
                        <p class="error-message">{{.}}</p>
                        {{end}}
                        <input name="spotifyPlaylist" placeholder="Enter Spotify playlist URL">
                        <div class="button-container">
                            <a href="/auth/spotify/logout" class="logout-button">Logout</a>
                            <button type="submit" class="submit-button">Submit</button>
                        </div>
                    </form>
                </div>
            {{end}}

            {{if .IsYoutubeAuthenticated}}
                <div id="youtubeSection" class="platform-section">
                    <img src="/static/img/youtube.svg" alt="Youtube Logo" class="platform-logo">
                    <form action="/replace/youtube" method="POST">
                        {{with .YoutubeFlash}}
                        <p class="flash-message">{{.}}</p>
                        {{end}}
                        {{with .YoutubeForm.FieldError}}
                        <p class="error-message">{{.}}</p>
                        {{end}}
                        <input name="youtubePlaylist" placeholder="Enter YouTube playlist URL">
                        <div class="button-container">
                            <a href="/auth/youtube/logout" class="logout-button">Logout</a>
                            <button type="submit" class="submit-button">Submit</button>
                        </div>
                    </form>
                </div>
            {{end}}
        {{end}}
    </div>
{{end}}
